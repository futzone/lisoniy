# 6-Mavzu: Mahalliy (On-Premise) STT Tizimini Sozlash

## Nima Uchun Mahalliy? Nazorat va Maxfiylik

Bulutli xizmatlar qulay bo'lsa-da, ba'zi hollarda STT tizimini o'zingizning serverlaringizda ishga tushirish zarurati tug'iladi. Buning asosiy sabablari ma'lumotlar maxfiyligi, xarajatlarni nazorat qilish va tizim ustidan to'liq hukmronlikka ega bo'lishdir.

Ushbu darslik mahalliy STT tizimini noldan qurish va sozlash yo'lini bosqichma-bosqich ko'rsatib beradi.

---

### Boshlashdan Oldin: Talablar

Mahalliy STT tizimini ishga tushirish uchun ma'lum bir tayyorgarlik kerak.

1.  **Apparat Ta'minoti (Hardware):**
    -   **GPU (Graphics Processing Unit):** Bu eng muhim komponent. Neyron tarmoqlarni tez ishlashi uchun kuchli GPU kerak.
        -   **Boshlang'ich daraja:** NVIDIA GeForce RTX 3060 (12GB VRAM) - kichik va o'rta modellar bilan tajriba qilish uchun.
        -   **Jiddiy loyihalar uchun:** NVIDIA RTX 4090 (24GB VRAM) yoki A100/H100 kabi professional kartalar - katta modellarni o'qitish va real-time xizmat ko'rsatish uchun.
    -   **Tezkor Xotira (RAM):** Minimum 16GB, lekin 32GB yoki undan ko'pi tavsiya etiladi.
    -   **Disk Xotirasi:** Modellarni va datasetlarni saqlash uchun tezkor SSD (kamida 500GB).

2.  **Dasturiy Ta'minot (Software):**
    -   **Linux Operatsion Tizimi:** Ubuntu eng keng tarqalgan va qo'llab-quvvatlanadigan tanlovdir.
    -   **NVIDIA Drayverlari va CUDA Toolkit:** GPU ning imkoniyatlaridan to'liq foydalanish uchun.
    -   **Python:** Asosiy dasturlash tili.
    -   **PyTorch yoki TensorFlow:** Deep learning freymvorklari.

3.  **Ma'lumotlar (Data) (Agar qo'shimcha o'qitish kerak bo'lsa):**
    -   Sizning sohangizga (masalan, tibbiyot, yurisprudensiya) oid transkripsiya qilingan audio yozuvlar.

---

### Mahalliy STT Sayohati: Bosqichma-Bosqich Yo'l

Mahalliy STT tizimini yaratish bir necha bosqichdan iborat bo'lib, har bir bosqich avvalgisining ustiga quriladi.

#### 1-Bosqich: Tayyor, Oldindan O'qitilgan Modellardan Foydalanish

Bu eng oson va eng tez boshlash usuli. Siz allaqachon milliardlab soatlik audio bilan o'qitilgan ochiq manbali modellarni yuklab olib, darhol ishlatasiz.

-   **Eng yaxshi tanlov: OpenAI Whisper.**
    -   Whisper turli o'lchamlarda keladi (`tiny`, `base`, `small`, `medium`, `large`). `large-v3` modeli deyarli barcha bulutli xizmatlar bilan raqobatlasha oladi.
    -   Foydalanish juda oson: bir necha qator Python kodi bilan audioni matnga aylantirish mumkin.
-   **Alternativa: Wav2Vec 2.0 (HuggingFace).**
    -   Bu ham kuchli model, lekin ishlatish uchun biroz ko'proq sozlash talab qiladi.

Bu bosqichda siz hech qanday qo'shimcha ma'lumotlarsiz yoki model o'qitishsiz natijalarni olishni boshlaysiz. Ko'p umumiy vazifalar uchun shu bosqichning o'zi yetarli bo'lishi mumkin.

#### 2-Bosqich: Maxsus Ma'lumotlar Bilan Modelni Moslashtirish (Fine-Tuning)

Oldindan o'qitilgan modellar umumiy nutq uchun ajoyib bo'lsa-da, ular sizning maxsus sohangizdagi atamalarni, aksentlarni yoki shovqinli muhitni yaxshi tushunmasligi mumkin. **Fine-tuning** jarayoni mavjud modelni sizning o'z ma'lumotlaringiz bilan qo'shimcha "o'qitish" orqali uning bilimini kengaytiradi.

-   **Nima kerak?** 10-100 soatlik transkripsiya qilingan audio (sizning sohangizga oid).
-   **Jarayon:** Siz modelga o'z audiolaringizni va to'g'ri matnlarni berasiz. Model o'zining ichki "og'irliklarini" (weights) biroz o'zgartirib, sizning ma'lumotlaringizga moslashadi.
-   **Natija:** Model sizning sohangizdagi atamalarni (masalan, tibbiy terminlar) va notanish aksentlarni ancha yaxshi taniy boshlaydi.

#### 3-Bosqich: Ishlab Chiqarish Uchun Optimallashtirish (Optimization for Production)

O'qitilgan modelni real ilovada ishlatish uchun uni optimallashtirish kerak. Bu tezlikni oshiradi va resurs sarfini kamaytiradi.

-   **ONNX ga aylantirish:** Modelni standart, platformadan mustaqil formatga o'tkazish. Bu uning turli qurilmalarda (CPU, GPU, mobil) tezroq ishlashini ta'minlaydi.
-   **Kvantizatsiya (Quantization):** Modelning aniqligini biroz kamaytirish evaziga uning hajmini va ishlash tezligini sezilarli darajada oshirish. Masalan, 32-bitli sonlar o'rniga 16-bitli yoki 8-bitli sonlardan foydalanish.

#### 4-Bosqich (Eng qiyini): Noldan Model O'qitish

Agar sizning vazifangiz yoki tilingiz uchun hech qanday tayyor model mavjud bo'lmasa, siz noldan o'z modelingizni o'qitishingiz mumkin.

-   **Nima kerak?** Kamida 1000+ soatlik yuqori sifatli, transkripsiya qilingan audio.
-   **Jarayon:** Bu chuqur bilim, katta hisoblash resurslari va ko'p vaqt talab qiladigan juda murakkab vazifadir. Odatda faqat yirik tadqiqot guruhlari yoki kompaniyalar tomonidan amalga oshiriladi.

**Xulosa:** Mahalliy STT tizimini qurishda har doim **1-bosqichdan boshlang**. Tayyor modellarni sinab ko'ring. Agar natijalar qoniqarli bo'lmasa, keyingi bosqichga, ya'ni fine-tuningga o'ting. Noldan model o'qitish faqat oxirgi chora sifatida ko'rilishi kerak.